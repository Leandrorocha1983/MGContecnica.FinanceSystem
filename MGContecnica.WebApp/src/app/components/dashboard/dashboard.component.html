<div class="dashboard">
  <h1>Dashboard - MG Contecnica</h1>
  
  <div *ngIf="loading" class="loading">
    Carregando dados financeiros...
  </div>
  
  <div *ngIf="error" class="error">
    {{ error }}
  </div>

  <div class="content" *ngIf="!loading">
    <!-- Resumo Financeiro -->
    <div class="section summary">
      <h2>Resumo Financeiro</h2>
      <div class="summary-cards">
        <div class="card">
          <div class="label">Total de Receitas</div>
          <div class="amount">R$ {{ getTotalReceitas() | number:'1.2-2' }}</div>
        </div>
        <div class="card">
          <div class="label">Total de Despesas</div>
          <div class="amount">R$ {{ getTotalDespesas() | number:'1.2-2' }}</div>
        </div>
        <div class="card">
          <div class="label">Saldo</div>
          <div class="amount" [ngClass]="getSaldo() >= 0 ? 'positive' : 'negative'">
            R$ {{ getSaldo() | number:'1.2-2' }}
          </div>
        </div>
      </div>
    </div>

    <!-- Categorias -->
    <div class="section">
      <h2>
        Categorias 
        <span class="count">{{ categorias.length }}</span>
      </h2>
      <ul>
        <li *ngFor="let categoria of categorias">
          <div class="item-info">
            <span class="name">{{ categoria.nome }}</span>
            <span class="type" [ngClass]="categoria.tipo === 1 ? 'receita' : 'despesa'">
              {{ categoria.tipo === 1 ? 'Receita' : 'Despesa' }}
            </span>
          </div>
        </li>
      </ul>
    </div>

    <!-- Transações -->
    <div class="section">
      <h2>
        Transações Recentes 
        <span class="count">{{ transacoes.length }}</span>
      </h2>
      <ul>
        <li *ngFor="let transacao of transacoes">
          <div class="item-info">
            <div>
              <div class="name">{{ transacao.descricao }}</div>
              <div class="description">{{ transacao.nomeCategoria }} • {{ transacao.data | date:'dd/MM/yyyy' }}</div>
            </div>
            <div class="value" [ngClass]="transacao.tipoCategoria === 1 ? 'positive' : 'negative'">
              {{ transacao.tipoCategoria === 1 ? '+' : '-' }}R$ {{ transacao.valor | number:'1.2-2' }}
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>